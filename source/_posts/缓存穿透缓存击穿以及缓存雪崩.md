---
title: 缓存穿透,缓存击穿以及缓存雪崩
date: 2020-09-06 21:55:48
tags: redis
---


# 缓存穿透: key对应的数据源不存在。
比如客户端访问id为-1的记录，数据库不存在这条数据，缓存中自然也没有，所以每次都会去数据库查询。

## 解决方法

1. 布隆过滤器
2. 缓存null值，但时间不能过长或过短

# 缓存击穿: key对应的数据源已过期。
大量并发同时请求某一过期数据，由于缓存过期，会同时访问数据库，导致数据库压力剧增。

## 解决方法

1. 热点数据永不过期
2. 根据key添加互斥锁(set nx px )
<!--more-->
## 缓存雪崩: 缓存中大量数据同一时间过期
大量缓存数据过期，导致数据库压力过大，甚至宕机。
## 解决方法


1. 对key设置随机过期时间
2. 热点数据永不过期
3. 限流
