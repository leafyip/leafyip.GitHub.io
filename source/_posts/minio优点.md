---
title: minio优点
date: 2020-12-01 21:32:38
tags: minio
---

# 1 数据保护
分布式Minio采用 纠删码来防范多个节点宕机和位衰减bit rot。
分布式Minio至少需要4个硬盘，使用分布式Minio自动引入了纠删码功能

# 2 高可用

单机Minio服务存在单点故障，相反，如果是一个有 m 台服务器， n 块硬盘的分布式Minio,只要有 m/2 台服务器或者 m*n/2 及更多硬盘在线，你的数据就是安全的。

例如，一个16节点的Minio集群，每个节点200块硬盘，就算8台服務器宕机，即大概有1600块硬盘，这个集群仍然是可读的，不过你需要9台服務器在线才能写数据。

# 3 一致性
Minio在分布式和单机模式下，所有读写操作都严格遵守read-after-write和list-after-write一致性模型
<!--more-->

注意事项
(1)分布式Minio里所有的节点需要有同样的access秘钥和secret秘钥，这样这些节点才能建立联接。为了实现这个，建议 在执行minio server命令之前，在所有节点上先将access秘钥和secret秘钥export成环境变量MINIO_ACCESS_KEY 和 MINIO_SECRET_KEY。

(2)MinIO 可创建每组4到16个磁盘组成的纠删码集合。所以你提供的磁盘总数必须是其中一个数字的倍数。

(3)MinIO会根据给定的磁盘总数或者节点总数选择最大的纠删码集合大小，确保统一分布，即每个节点参与每个集合的磁盘数量相等。

(4)每个对象被写入一个EC集合中，因此该对象分布在不超过16个磁盘上。

(5)建议运行分布式MinIO设置的所有节点都是同构的，即相同的操作系统，相同数量的磁盘和相同的网络互连。

(6)分布式Minio使用干净的目录，里面没有数据。你也可以与其他程序共享磁盘，这时候只需要把一个子目录单独给MinIO使用即可。例如，你可以把磁盘挂在到/export下, 然后把/export/data作为参数传给MinIO server即可。

(7)下面示例里的IP仅供示例参考，你需要改成你真实用到的IP和文件夹路径。

(8)分布式Minio里的节点时间差不能超过15分钟，你可以使用NTP 来保证时间一致。

(9)MINIO_DOMAIN环境变量应该定义并且导出,以支持bucket DNS style。

(10)在Windows下运行分布式Minio处于实验阶段，请悠着点使用。